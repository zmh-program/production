import{_ as e,o as s,c as a,a as n}from"./app.99aaba7a.js";const h=JSON.parse('{"title":"扩展命令","description":"","frontmatter":{"title":"扩展命令"},"headers":[{"level":2,"title":"创建超级用户","slug":"创建超级用户","link":"#创建超级用户","children":[]},{"level":2,"title":"创建管理员","slug":"创建管理员","link":"#创建管理员","children":[]},{"level":2,"title":"重置migrations文件","slug":"重置migrations文件","link":"#重置migrations文件","children":[]},{"level":2,"title":"运行celery分布式消息列队","slug":"运行celery分布式消息列队","link":"#运行celery分布式消息列队","children":[]},{"level":2,"title":"创建内嵌式应用程序 (Embedding Applications)","slug":"创建内嵌式应用程序-embedding-applications","link":"#创建内嵌式应用程序-embedding-applications","children":[]}],"relativePath":"quickstart/command.md","lastUpdated":1674210525000}'),l={name:"quickstart/command.md"},i=n(`<h1 id="扩展命令" tabindex="-1">扩展命令 <a class="header-anchor" href="#扩展命令" aria-hidden="true">#</a></h1><nav class="table-of-contents"><ul><li><a href="#创建超级用户">创建超级用户</a></li><li><a href="#创建管理员">创建管理员</a></li><li><a href="#重置migrations文件">重置migrations文件</a></li><li><a href="#运行celery分布式消息列队">运行celery分布式消息列队</a></li><li><a href="#创建内嵌式应用程序-embedding-applications">创建内嵌式应用程序 (Embedding Applications)</a></li></ul></nav><hr><div class="danger custom-block"><p class="custom-block-title">警告</p><p>Django原生命令 <strong>createsuperuser</strong> 在本项目已经弃用, 因为<strong>Profile</strong>数据库模型实例将不会创建</p><p>请使用 <strong>buildsuperuser</strong> 创建超级用户</p></div><h2 id="创建超级用户" tabindex="-1">创建超级用户 <a class="header-anchor" href="#创建超级用户" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title"><strong>buildsuperuser</strong></p><p><strong>buildsuperuser</strong> 和 <strong>createsuperuser</strong> 用法相同</p><p><strong>buildsuperuser</strong> 将创建超级用户 ( <code>is_staff=True, is_superuser=True, identity=3</code> ), 即 <strong>服主</strong> 级别, 拥有最高权限</p></div><div class="language-commandline line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">commandline</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">python3 manage.py buildsuperuser</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="创建管理员" tabindex="-1">创建管理员 <a class="header-anchor" href="#创建管理员" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title"><strong>buildadmin</strong></p><p><strong>buildadmin</strong> 和 <strong>createsuperuser</strong> 用法相同</p><p><strong>buildadmin</strong> 将创建管理员 ( <code>is_staff=True, is_superuser=False, identity=2</code> ), 即 <strong>管理员</strong> 级别, 拥有基本管理员权限, 可以访问管理站点</p></div><div class="language-commandline line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">commandline</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">python3 manage.py buildadmin</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="重置migrations文件" tabindex="-1">重置migrations文件 <a class="header-anchor" href="#重置migrations文件" aria-hidden="true">#</a></h2><div class="warning custom-block"><p class="custom-block-title">resetmigrations</p><p><strong>此操作将清除所有(<em>INSTALL_APPS</em>中)的迁移文件, 然后重新调用<em>makemigrations</em>命令</strong></p><p>此命令不会影响数据库migrate记录, 仅可用于测试版本, 不可在正式版本中使用</p><ul><li><em>此命令将保留 .../migrations/__init__.py</em></li></ul></div><div class="language-commandline line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">commandline</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">python3 manage.py buildsuperuser</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="运行celery分布式消息列队" tabindex="-1">运行celery分布式消息列队 <a class="header-anchor" href="#运行celery分布式消息列队" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">celery</p><p>由于<code>django-celery</code>版本依赖问题, 所以抛弃使用<code>djcelery</code>, 转而使用celery原生版本</p><p>此命令同下</p><div class="language-commandline line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">commandline</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">celery -A DjangoWebsite worker --loglevel=INFO -P eventlet</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div><div class="language-commandline line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">commandline</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">python3 manage.py celery</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="创建内嵌式应用程序-embedding-applications" tabindex="-1">创建内嵌式应用程序 <em>(Embedding Applications)</em> <a class="header-anchor" href="#创建内嵌式应用程序-embedding-applications" aria-hidden="true">#</a></h2><div class="language-commandline line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">commandline</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">python manage.py buildapp</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>更多<strong>buildapp</strong>相关请参阅章节<a href="/apps/create.html">内嵌式应用程序 - 创建应用程序</a></p>`,19),r=[i];function t(o,p,c,d,m,u){return s(),a("div",null,r)}const b=e(l,[["render",t]]);export{h as __pageData,b as default};
